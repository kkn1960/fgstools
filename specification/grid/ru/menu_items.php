<?php
$grid['menu_items']=array();
$selector['menu_items']=array('field'=>'selectrow','renderer'=>'selector','view'=>"<input onclick=\"toggleRow(%1\$d)\" type=checkbox name=\"selectrow[%1\$d]\" id=\"id_selectrow_%1\$d\" value=\"%2\$s\">");
$grid['menu_items']['properties']=array('table'=>'fgs_item','system'=>1,'primary_key'=>array('item_id'),'modal'=>0,'user_order'=>1,'user_pagesize'=>1,'user_offset'=>1,'inline_edit'=>0,'fkr'=>array('item_menu'=>'menu_id'),'title'=>'menu_items','joins'=>array(array('join'=>'left','left_table'=>'fgs_item','left_alias'=>'t','left_foreign_key'=>'item_pid','right_table'=>'fgs_item','right_alias'=>'pm','right_primay_key'=>'item_id','required'=>1)),'save'=>array('item_id','item_menu'),'sort'=>array('item_id'=>'item_id','item_menu'=>'item_menu'),'sort_prefix'=>array(),'sort_suffix'=>array(),'register'=>array('item_menu'=>'root_menu'),'select'=>'t.item_id,t.item_pid,pm.item_name parent,t.item_type,t.item_name,t.item_action,t.item_menu','from'=>'fgs_item t ');
$grid['menu_items']['initial']=array('pagesize'=>200,'direction'=>'ASC','order'=>'item_id','offset'=>0);
$grid['menu_items']['session']=array('pagesize','direction','order','offset','total','multimode_hide','display','hide','apk','foreign_key','adk');
$ra['menu_items']=array();
$ra['menu_items'][]=array('load'=>false,'action'=>'update','renderer'=>'RowAction','immediate'=>0,'view'=>'<a href="%3$s&amp;update=%1$d&amp;key=%2$s" class="icon_edit" title="Редактировать" ></a>');
$ra['menu_items'][]=array('load'=>false,'action'=>'remove','renderer'=>'RowAction','immediate'=>0,'view'=>'<a href="%3$s&amp;remove=%1$d&amp;key=%2$s" class="icon_delete" title="Удалить" ></a>');
$ra['menu_items'][]=array('load'=>false,'action'=>'copy','renderer'=>'RowAction','immediate'=>0,'view'=>'<a href="%3$s&amp;copy=%1$d&amp;key=%2$s" class="icon_copy" title="Копировать" ></a>');
$rsa['menu_items']=array();
$rsa['menu_items'][]=array('action'=>'multi_update','renderer'=>'RowSetAction','immediate'=>0,'view'=>'<button type="submit" name="multi_update"  title="Multi_update" ><span style="margin:0 -5px -3px -0px;" class="icon_edit"></span></button>');
$rsa['menu_items'][]=array('action'=>'multi_remove','renderer'=>'RowSetAction','immediate'=>0,'view'=>'<button type="submit" name="multi_remove"  title="Multi_remove" ><span style="margin:0 -5px -3px -0px;" class="icon_delete"></span></button>');
$column['menu_items']=array();
$column['menu_items'][0]=array('rowid'=>1560,'save'=>'1','component'=>'ColumnText','header'=>'Item_id','sid'=>'item_id','hidden'=>'0','renderer'=>'text','type'=>'int','field'=>'item_id','hidden'=>'0','calculate'=>'0');
$column['menu_items'][1]=array('rowid'=>1561,'component'=>'ColumnLookup','header'=>'Родительское меню','sid'=>'item_pid','hidden'=>'0','join_lookup'=>1,'relation'=>'0','list'=>array('sid'=>'MenuItem','table'=>'fgs_item','from'=>'fgs_item','primary_key'=>'item_id','select'=>'item_id id,item_name as name','order'=>'item_id ASC','table_alias'=>'pm','alias'=>'parent','display_field'=>'item_name','predicates'=>array(array('field'=>'item_type','type'=>'varchar','table'=>'fgs_item','fieldset'=>'0','required'=>'1','argument'=>"menu",'operator'=>'equal','connector'=>'and'),array('field'=>'item_menu','type'=>'varchar','table'=>'fgs_item','fieldset'=>'0','required'=>'1','argument'=>"&rgv root_menu",'operator'=>'equal','connector'=>'and'))),'field'=>'item_pid','hidden'=>'0','type'=>'int','align'=>'left','list_sid'=>'MenuItem','lookup'=>'parent','renderer'=>'lookup');
$column['menu_items'][2]=array('rowid'=>1562,'component'=>'ColumnLookup','header'=>'Тип','sid'=>'item_type','hidden'=>'0','join_lookup'=>0,'relation'=>'0','list'=>array('options'=>array('item'=>'Пункт','menu'=>'Меню')),'field'=>'item_type','hidden'=>'0','type'=>'varchar','align'=>'left','list_sid'=>'MenuOptionType','renderer'=>'option');
$column['menu_items'][3]=array('rowid'=>1563,'component'=>'ColumnText','header'=>'Имя','sid'=>'item_name','hidden'=>'0','renderer'=>'text','type'=>'varchar','field'=>'item_name','hidden'=>'0','calculate'=>'0');
$column['menu_items'][4]=array('rowid'=>1564,'component'=>'ColumnText','header'=>'Действие','sid'=>'item_action','hidden'=>'0','renderer'=>'text','type'=>'varchar','field'=>'item_action','hidden'=>'0','calculate'=>'0');
$column['menu_items'][5]=array('rowid'=>5798,'save'=>'1','register'=>'root_menu','component'=>'ColumnText','header'=>'Item_menu','sid'=>'item_menu','hidden'=>'1','renderer'=>'text','type'=>'varchar','field'=>'item_menu','hidden'=>'1','calculate'=>'0');
$button['menu_items']=array();